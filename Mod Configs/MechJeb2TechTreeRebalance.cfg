//--------------------------------------------------------------------------------------------------------------\\
// Kerbal Space and Atmospheric Exploration Agency Technology Tree Changes for MechJeb 2			\\
//														\\
// This config contains the tech tree changes for the parts in MechJeb 2.				\\
//--------------------------------------------------------------------------------------------------------------\\


//Tech tree changes for any part using MechJebCore module
@PART[*]:HAS[@MODULE[MechJebCore]]:FOR[KSAEA]:NEEDS[MechJeb2]
{
	@MODULE[MechJebCore]
	{
		@MechJebLocalSettings
		{
			//Moves the Rover Window upgrade to Advanced Exploration
			@MechJebModuleRoverWindow
			{
				@unlockTechs = advExploration
			}

			//Moves the Spaceplane Guidance upgrade to Electronics
			@MechJebModuleSpaceplaneGuidance
			{
				@unlockTechs = electronics
			}
		}
	}
}


//--Dummy Parts--\\

//Moves the MechJeb - Features- Rover Autopilot to Advanced Exploration
@PART[mumech_MJ2_AR202_features2]:FOR[KSAEA]:NEEDS[MechJeb2]
{
	@TechRequired = advExploration
}

//Removes Spaceplane Guidance from the MechJeb Features- Ascent, Landing, Spaceplan
@PART[mumech_MJ2_AR202_features3]:FOR[KSAEA]:NEEDS[MechJeb2]
{
	@title = MechJeb Features- Ascent, Landing

	@description = Unlocks the following MechJeb windows: Ascent Autopilot and Landing Autopilot. Once unlocked, all existing MechJeb modules will be automatically upgraded to latest firmware.
}

//Adds a new dummy part for Spaceplane Guidance
//This part has no model information and remains hidden unless MechJeb2 is present
PART
{
	// --- general parameters ---

	name = mumech_MJ2_AR202_features5
	module = Part

	author = r4m0n/The_Duck (code) || keptin (part)

	// --- editor parameters ---
	TechRequired = electronics

	entryCost = 15000
	cost = 750

	category = -1

	subcategory = 0
	title = MechJeb Features- 
Spaceplane
	manufacturer = Anatid Robotics

	description = Unlocks the following MechJeb windows: Spaceplane Guidance. Once unlocked, all existing MechJeb modules will be automatically upgraded to latest firmware.

	// --- standard part parameters ---

	mass = 0.00001
	dragModelType = default
	maximum_drag = 0.0
	minimum_drag = 0.0

	angularDrag = 0

	crashTolerance = 6
	maxTemp = 2900


	CrewCapacity = 0
	vesselType = Probe

}

//Makes MechJeb Features- Spaceplane appear and adds model location when MechJeb2 is present
@PART[mumech_MJ2_AR202_features5]:FOR[KSAEA]:NEEDS[MechJeb2]
{
	MODEL
	{
		model = MechJeb2/Parts/MechJeb2_AR202/model
	}
	rescaleFactor = 0.75

	@category = none
}